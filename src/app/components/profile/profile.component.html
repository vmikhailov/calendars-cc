<div class="profile-container">
  <div class="profile-header">
    <h1 class="profile-title">Profile</h1>
    <p class="profile-desc">Manage your personal information and account settings</p>
  </div>

  <div class="profile-grid">
    <!-- Profile Picture -->
    <div class="lg:col-span-1">
      <div class="profile-card">
        <h2 class="profile-section-title mb-4">Profile Picture</h2>
        <div class="profile-avatar-wrap">
          <div class="profile-avatar">
            <span class="profile-avatar-initials">{{ getInitials() }}</span>
          </div>
          <button class="profile-upload-btn">
            <lucide-icon name="upload" class="profile-upload-icon"></lucide-icon>
            Upload Photo
          </button>
          <p class="profile-upload-note">JPG, PNG or GIF. Max size 2MB.</p>
        </div>
      </div>
    </div>

    <!-- Personal Information -->
    <div class="lg:col-span-2">
      <div class="profile-card">
        <div class="profile-info-row">
          <h2 class="profile-info-title">Personal Information</h2>
          <button *ngIf="!isEditing" (click)="startEdit()" class="profile-edit-btn">
            <lucide-icon name="edit" class="profile-edit-icon"></lucide-icon>
            <span>Edit</span>
          </button>
        </div>
        <form (ngSubmit)="saveProfile()" class="profile-form">
          <div class="profile-form-grid">
            <div>
              <label class="profile-label">Full Name</label>
              <input type="text" [(ngModel)]="editableUser.name" name="name" [readonly]="!isEditing"
                [class]="getInputClass()" />
            </div>

            <div>
              <label class="profile-label">Email</label>
              <input type="email" [(ngModel)]="editableUser.email" name="email" [readonly]="!isEditing"
                [class]="getInputClass()" />
            </div>

            <div>
              <label class="profile-label">Company</label>
              <input type="text" [(ngModel)]="editableUser.company" name="company" [readonly]="!isEditing"
                [class]="getInputClass()" />
            </div>

            <div>
              <label class="profile-label">Role</label>
              <input type="text" [(ngModel)]="editableUser.role" name="role" [readonly]="!isEditing"
                [class]="getInputClass()" />
            </div>

            <div>
              <label class="profile-label">Timezone</label>
              <select [(ngModel)]="editableUser.timezone" name="timezone" [disabled]="!isEditing"
                [class]="getInputClass()">
                <option value="America/New_York">Eastern Time (ET)</option>
                <option value="America/Chicago">Central Time (CT)</option>
                <option value="America/Denver">Mountain Time (MT)</option>
                <option value="America/Los_Angeles">Pacific Time (PT)</option>
                <option value="Europe/London">London (GMT)</option>
                <option value="Europe/Paris">Paris (CET)</option>
                <option value="Asia/Tokyo">Tokyo (JST)</option>
              </select>
            </div>

            <div>
              <label class="profile-label">Language</label>
              <select [(ngModel)]="editableUser.language" name="language" [disabled]="!isEditing"
                [class]="getInputClass()">
                <option value="en">English</option>
                <option value="es">Spanish</option>
                <option value="fr">French</option>
                <option value="de">German</option>
                <option value="ja">Japanese</option>
              </select>
            </div>
          </div>

          <div *ngIf="isEditing" class="profile-edit-actions">
            <button type="button" (click)="cancelEdit()" class="profile-cancel-btn">Cancel</button>
            <button type="submit" class="profile-save-btn">Save Changes</button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <!-- Account Information -->
  <div class="profile-section">
    <h2 class="profile-account-title">Account Information</h2>
    <div class="profile-form-grid">
      <div>
        <label class="profile-account-label">Member Since</label>
        <div class="profile-account-value">{{ formatDate(user?.joinedDate) }}</div>
      </div>
      <div>
        <label class="profile-account-label">Last Login</label>
        <div class="profile-account-value">{{ user?.lastLogin }}</div>
      </div>
    </div>
  </div>

  <!-- Danger Zone -->
  <div class="profile-danger-section">
    <h2 class="profile-danger-title">Danger Zone</h2>
    <p class="profile-danger-desc">Once you delete your account, there is no going back. Please be certain.</p>
    <button class="profile-danger-btn">
      <lucide-icon name="trash-2" class="profile-danger-icon"></lucide-icon>
      Delete Account
    </button>
  </div>
</div>